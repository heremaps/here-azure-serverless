{
    "handler": "Microsoft.Compute.MultiVm",
    "version": "0.1.2-preview",
    "parameters": {
        "basics": [
            {}
        ],
        "steps": [
            {
                "name": "hereConfig",
                "label": "HERE Credentials",
                "subLabel": {
                    "preValidation": "Configure the HERE credentials",
                    "postValidation": "Done"
                },
                "bladeTitle": "HERE Credentials",
                "elements": [
                    {
                      "name": "hereAPP_ID",
                      "type": "Microsoft.Common.TextBox",
                      "label": "HERE App ID",
                      "tooltip" : "For HERE Credentials, refer https://developer.here.com",
                      "visible": true

                    },
                    {
                      "name": "hereAPP_CODE",
                      "type": "Microsoft.Common.TextBox",
                      "label": "HERE App Code",
                      "tooltip" : "For HERE Credentials, refer https://developer.here.com",
                      "visible": true

                    }
                ]
            },
            {
                "name": "eventHubConfig",
                "label": "Event Hub settings",
                "subLabel": {
                    "preValidation": "Configure the EventHub",
                    "postValidation": "Done"
                },
                "bladeTitle": "Event Hub settings",
                "elements": [
                    {
                        "name": "eventHubNamespaceName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Event Hub Name",
                        "visible": true
                    }
                ]
            },
            {
                "name": "cosmosDBConfig",
                "label": "Cosmos DB settings",
                "subLabel": {
                    "preValidation": "Configure the CosmosDB",
                    "postValidation": "Done"
                },
                "bladeTitle": "Cosmos DB settings",
                "elements": [
                    {
                        "name": "cosmosDBAccountName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "cosmos DB Name",
                        "visible": true
                    }
                ]
            },
            {
                "name": "storageConfig",
                "label": "Storage settings",
                "subLabel": {
                    "preValidation": "Configure the Storage",
                    "postValidation": "Done"
                },
                "bladeTitle": "Storage settings",
                "elements": [
                    {
                        "name": "storageName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Storage Name",
                        "visible": true
                    },
                    {
                        "name": "storageAccountType",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Storage Account Type",
                        "defaultValue": "Standard_LRS",
                        "toolTip": "",
                        "constraints": {
                          "allowedValues": [
                            {
                              "label": "Standard_LRS",
                              "value": "Standard_LRS"
                            },
                            {
                              "label": "Standard_GRS",
                              "value": "Standard_GRS"
                            },
                            {
                              "label": "Standard_ZRS",
                              "value": "Standard_ZRS"
                            },
                            {
                              "label": "Premium_LRS",
                              "value": "Premium_LRS"
                            }
                          ],
                          "required": true
                        },
                        "visible": true
                      }
                ]
            },
            {
                "name": "functionAppConfig",
                "label": "Function App settings",
                "subLabel": {
                    "preValidation": "Configure the Function App Name",
                    "postValidation": "Done"
                },
                "bladeTitle": "Function App settings",
                "elements": [
                    {
                        "name": "functionAppName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Function App Name",
                        "visible": true
                    }
                ]
            }

        ],
        "outputs": {
            "hereAPP_ID": "[steps('hereConfig').hereAPP_ID]",
            "hereAPP_CODE": "[steps('hereConfig').hereAPP_CODE]",

            "eventHubNamespaceName": "[steps('eventHubConfig').eventHubNamespaceName]",

            "cosmosDBAccountName": "[steps('cosmosDBConfig').cosmosDBAccountName]",

            "storageName": "[steps('storageConfig').storageName]",
            "storageAccountType": "[steps('storageConfig').storageAccountType]",
            
            "functionAppName": "[steps('functionAppConfig').functionAppName]"
        }
    }
}
